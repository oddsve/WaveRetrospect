<?xml version="1.0" encoding="UTF-8" ?>
<Module>
<ModulePrefs title="Wave Bidding" height="250">
  <Require feature="wave-preview" />
  </ModulePrefs>
  <Content type="html">
 <![CDATA[
 <script type="text/javascript">

	function buttonClicked() {
		var viewerId = wave.getViewer().getId();
		var state = wave.getState();
		var bid = parseInt(document.getElementById('yourBid').value);
		var currentBid = parseInt(state.get(viewerId, '0'));
		if (bid > currentBid) {

			delta = {};
			delta[viewerId] = bid;
			state.submitDelta(delta);
		}
	}

	function renderInfo() {
		if (!wave.getState()) {
			return;
		}
		var thumbNail = 'http://gadget-doc-examples.googlecode.com/svn/trunk/images/unknown.gif';
		document.getElementById('bidderThumbnail').src = thumbNail;
		document.getElementById('mere').firstChild.nodeValue = "test";
	}
 
	function init() {
		if (wave && wave.isInWaveContainer()) {
			wave.setStateCallback(renderInfo);
			wave.setParticipantCallback(renderInfo);
		}
	}

	gadgets.util.registerOnLoadHandler(init);

</script>
<img id="bidderThumbnail" src="http://gadget-doc-examples.googlecode.com/svn/trunk/images/unknown.gif" width="50" height="50"/><br/>
Din retrospect:<textarea id="yourRetro">Fyll inn her</textarea><button id="butCount" onclick="buttonClicked()">Bid</button><br/>

<table>
				<tr>
								<th>Gjore mere av</th>
								<td><span id="mere">Litt av hvert</span></td>				
				</tr>

				<tr>
								<th>Gjore mindre av</th>
								<td>Litt av hvert</td>				
				</tr>

				<tr>
								<th>Fortsette med</th>
								<td>Litt av hvert</td>				
				</tr>

				<tr>
								<th>Starte med</th>
								<td>Litt av hvert</td>				
				</tr>

				<tr>
								<th>Slutte med</th>
								<td>Litt av hvert</td>				
				</tr>
</table>	
 
]]>
  </Content>
  </Module>

